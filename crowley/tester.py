from datetime import datetime
from crowley.services import scrape_fb_page
import sys

PAGES = [
    '1468786026667084', '253716931306593', '1548021398794397',
    '420077808154507', '303772716372318', '270093313111975',
    '326805774113862', '360870267419443', '305707606194246',
    '277794988911157', '450013518365777', '636895333069224',
    '828451420586751', '532610310238107', '359376064229557',
    '254798984573786', '435776989795309', '697270733694074',
    '281383601972504', '1610249232553871', '1070965602965750',
    '1134026943298711', '914270965359185', '388240407910441',
    '532024443511218', '189013721181168', '496653823829042',
    '999085766778692', '437268493043273', '219438011405579',
    '377597349021924', '1666545946891334', '235832096534798',
    '285346064857121', '1043663202322599', '343523285758102',
    '460501577318656', '141570836010143', '343876899067229',
    '145804812184985', '1486290368364530', '379868155511191',
    '568204606532924', '111514025606345', '881020258610021',
    '1634329520181773', '161038817289704', '191834334164334',
    '1630066217269774', '463292060409848', '191050174395979',
    '269247316427931', '170905606580816', '226441684141426',
    '277196472380109', '952499298106932', '932690046877902',
    '1426544470956388', '313113695484450', '1684012078491301',
    '1382273248764416', '770274009651256', '375962159240701',
    '287106454755373', '854307731302944', '1467351933592006',
    '386595061367844', '557139777721104', '269464583139565',
    '962315923784629', '171220726312631', '388416391297224',
    '786815211336168', '775213619223074', '1685219921748645',
    '118191324951003', '1626424537572462', '229108783790764',
    '1414532715472092', '879197852147571', '1567577746814220',
    '141228659351554', '880158808796654', '291562157852174',
    '277519485950668', '795552787232494', '279219052200046',
    '468216966535682', '1807609042797976', '951877518219824',
    '216218061800294', '323005501242178', '210075672388375',
    '1153278064684574', '798266720270729', '224727527585717',
    '177874319236163', '999722123479481', '1379045855650417',
    '598468923641795', '548938251887335', '1120986634627576',
    '257798044378174', '195202370586508', '251231405220887',
    '154715461366666', '1482380345324531', '323977821037971',
    '914342958580329', '341945099177193', '442156275968010',
    '1459060434364523', '1631365623791021', '361441987227851',
    '446235722179938', '1452538318311708', '1422528574678486',
    '210533175647615', '1376118979382824', '1023161681044113',
    '160453304048270', '218708648179452', '373868882815519',
    '268168740185721', '1674080436197691', '673697659402530',
    '875020109278150', '172466059510716', '756143734437601',
    '553312148032163', '1098194740257877', '1173328232729931',
    '120827454683359', '888806407883040', '339491142842048',
    '396026153743589', '220999878300826', '224543547627946',
    '113321158690180', '497843693646366', '679525078840188',
    '552787288096510', '782211325123671', '171009729971105',
    '1602425380046153', '929849953734474', '157640850981573',
    '170731613108832', '150529248375196', '374752662608543',
    '169826946762512', '664153373698098', '1618354008475549',
    '253662071409219', '264817003564545', '598475526872168',
    '1592275677704333', '1594418214158910', '1815499765350959',
    '1550864928537655', '242080745907273', '719698051435537',
    '760776150698044', '858979027550568', '178824229124851',
    '1420424328277957', '1691248287815250', '251161791735094',
    '866681176761223', '566699503381165', '210233449110535',
    '1469100066655958', '1413465385629540', '1667732350130001',
    '169133053441559', '542639362507447', '119002198127685',
    '626258144069156', '866448140080134', '479564278900259',
    '780219365444574', '319290191520494', '327388317593641',
    '1209253425774370', '136602119770726', '408083336055526',
    '1739017656347203', '475099035856013', '1447580538868661',
    '158378887705832', '1787219184848567', '848525498541422',
    '744617705669215', '883250045060789', '1446482415583063',
    '219910675007885', '454125798087421', '278497438922828',
    '539510819499389', '1580856058832141', '619717828114308',
    '160437547387481', '515955595255623', '1503295936602203',
    '1857392371153568', '266067000269592', '676259782483037',
    '1662203357329946', '143557345708097', '181655205500047',
    '331284670340911', '685038544932605', '542684822578342',
    '176830819181720', '996750147017408', '218042224963879',
    '293307364076589', '491238384321085', '221511278049414',
    '223446047783534', '180134135388458', '1032517183475470',
    '126313554086163', '959409817476620', '349124005291618',
    '452289421461339', '363023607155545', '114938841929008',
    '488767624650797', '264011670280346', '121672554906248',
    '786386048141807', '295240720608604', '434815233345086',
    '181540178660797', '274385906005361', '523439334432110',
    '1384022875260578', '1151247398251329', '110436519386833',
    '494348357319563', '985512771539846', '764144040374548',
    '456802587841715', '119876864761990', '686973801325694',
    '438890189498639', '217269978329843', '229109757217323',
    '617782775044750', '184113968459646', '225287624240235',
    '515015448667023', '1572426116340276', '1606800082941665',
    '119419454926920', '989700804482994', '1722124088072386',
    '151357198213772', '1567765740187011', '1044233218957814',
    '1522554237960528', '753308398081975', '1770081353274161',
    '778709282233025', '397004223721210', '193499407441270',
    '667726586708656', '250209825139255', '305632769596358',
    '207602862632746', '159761900841062', '425239557513278',
    '590751980970008', '1296633427017001', '141269449284029',
    '214808195583037', '152974021763705', '223504921039653',
    '134723093368897', '1572804093040454', '145632722140414',
    '812645188830808', '1506168789705187', '640304439332744',
    '904911422860665', '1672741893050856', '811065152324423',
    '753454698032996', '391735520844481', '1677291269167613',
    '246153418760872', '1572395316388940', '1603889693193542',
    '204818459550721', '304628006362865', '864180700394797',
    '150569991677539', '290614137796566', '223633587682449',
    '531015223578422', '177270805689485', '921280344550060',
    '777281675735990', '253502634722353', '847600111983632',
    '1459477394302873', '1732254797035149', '668690423190875',
    '128378170567064', '1742238189380135', '675775982495871',
    '263252590690728', '217522438621863', '174600829617403',
    '408943949142805', '1065979453463552', '189771041121457',
    '1550392985268861', '165331647217744', '262880540755808',
    '438009299707018', '1055486337873128', '1109343169093058',
    '167952556701871', '1056670767756642', '477198278978202',
    '175271856007150', '476809685781328', '105674119637132',
    '269340949901513', '1516880475266946', '210644142305782',
    '1415483665341712', '279211019084427', '613622382043030',
    '1374809186088502', '256073654515915', '479995255480467',
    '179345898873485', '224432197748954', '257998077740087',
    '1454399284785332', '194047944048077', '528249677214618',
    '671772556312373', '904503022967802', '640229882754841',
    '466203476906665', '244554072298580', '492310734268724',
    '396686567048865', '335678163237924', '344391495593118',
    '735960329803872', '116669168349145', '178195422258076',
    '1460632370901651', '1034449419952342', '220941608040336',
    '303258833032722', '1469434156602947', '329261207404937',
    '389328047925787', '1607314589516363', '140699936373343',
    '1575889245992246', '466081056921746', '921080261297197',
    '1016581845072976', '311682502324925', '232247756855711',
    '1458755947759522', '1679519195632285', '230064847118801',
    '238278799567244', '1573081436319936', '535617959929147',
    '272912016056422', '122275871138101', '169149129829072',
    '434824916587909', '1831575253740308', '852362238138715',
    '431331823579923', '1514887842063546', '1702574649988349',
    '1589838057980873', '493106490716196', '824141817687586',
    '230659643957107', '712844108843897', '244600688959150',
    '1198163926875902', '198885673494241', '162844457424235',
    '283729198664669', '670597186439394', '234391839956212',
    '160747100996737', '287696658063080', '284609098233656',
    '1821991681418722', '1496633053922554', '301959513504181',
    '949267238461084', '1642576266012193', '1572797833029927',
    '295197077287442', '210324882496925', '188714618208900',
    '991574557591758', '1536515589894679', '1840137756210016',
    '187535451388628', '1609023199351852', '1671794819806336',
    '1294642530586627', '156298427812723', '177872992354459',
    '1448125625501345', '335280696635927', '263752563660855',
    '356146471122506', '230035350447103', '1055824937819852',
    '215437868797205', '1107243422630577', '474760915956597',
    '872610699444349', '187312294764773', '1497127230591679',
    '636087016511577', '159458664241536', '624221027732175',
    '1622675527981844', '1752145908353464', '712251992244123',
    '1562299317376061', '629581450528008', '293421010767501',
    '259175994443060', '763537590354117', '1488082381433626',
    '157459077777025', '280639248976698', '1483255105260827',
    '313871298947798', '142009825818910', '285140194998584',
    '313927668717202', '261794037524737', '102199143198830',
    '537337819694831', '534853723254550', '382236598502109',
    '213893745386975', '906264779477438', '172363759793304',
    '321772577881995', '156565877711883', '262714787264647',
    '363613177179075', '121444274608579', '940665312690677',
    '397036773701275', '380553538727321', '884021434953500',
    '395228130626619', '125661057866899', '225580274482839',
    '1545369612443546', '626808474118651', '133832376676389',
    '444688295670456', '177784642304450', '559901584183005',
    '962240967221730', '1689741037962545', '589724881058907',
    '1743267759224947', '836555646382493', '1020241314732507',
    '730632063689300', '587674537932891', '327401097370816',
    '941760059200442', '437856059569879', '914087395345682',
    '1677285605892690', '792670350754687', '1249057301773677',
    '834547586593378', '197519850415310', '585708921601273',
    '1425556947709970', '874676922600884', '856481284414637',
    '234961133361710', '1442861915934102', '394208827333345',
    '455132551324259', '900849999990172', '250667961803795',
    '1682966621970514', '802955599771573', '1727692850811311',
    '284100858643971', '1553864338161567', '473689562776030',
    '619328854872806', '546082982189313', '1058999950856401',
    '311848798999956', '1460397767586470', '1788510394700578',
    '944434909017571', '1641424106130758', '1720647788225065',
    '604932812949820', '576675009045691', '137550270029661',
    '293635777415381', '304334409897853', '101357086891673',
    '578367472321881', '161538537365982', '238241046241942',
    '1579104819020060', '276711155739059', '1102996756436591',
    '1469975273307760', '110097002452020', '981762221897804',
    '485329288260832', '870252169775865', '156971904366282',
    '542997255884209', '1375425932714820', '809358742432823',
    '386189444739519', '211737198906957', '1608364199486930',
    '187959791406057', '342504785939238', '1581463615476776',
    '450453978486779', '214800425200836', '386305374827017',
    '1844150172506430', '920329311379837', '244190749118794',
    '1465136147099422', '127097874034219', '1423658241262548',
    '1767008220237082', '375709749157627', '1225759350801983',
    '141992395874734', '593740757355455', '1181678125224298',
]

AT = 'EAACEdEose0cBAM2EROUkAHlfbvcU7sycVyg7Vh9eVcmcUPzKOLMV1FfEPQZC44bhplZCvZAfI8U1k1TZAwXrbDKMJzCQbSmSJADRKZC0hMUdMQGjZAW0GHPpONNlrvWjrPqHRhtxszWOabwoafGFWT05AQgHsgvG0I30iYJJFiqQZDZD'
#AT = ''


def looper():
    total = len(PAGES)
    current = 1
    for page in PAGES:
        print('Page {} of {}'.format(current, total))
        scrape_fb_page(page, AT)
        current += 1


def crawl():
    save_stdout = sys.stdout
    save_stderr = sys.stderr
    fh = open('log.txt', 'w')
    sys.stdout = fh
    sys.stderr = fh

    dt1 = datetime.now()
    looper()
    dt2 = datetime.now()
    delta = dt2 - dt1

    sys.stdout = save_stdout
    sys.stderr = save_stderr
    fh.close()

    print('Finished in {} seconds.'.format(delta.total_seconds()))


if __name__ == "__main__":
    # execute only if run as a script
    crawl()
